<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:fragment="layout(content)">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
	crossorigin="anonymous">
<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
<link rel="stylesheet" type="text/css" th:href="@{/css/userbase.css}">
<link rel="stylesheet" type="text/css" th:href="@{/css/dashboard.css}">
<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">
<title>Cloud Media</title>

<script>
	
	function handleClickProfileImage() {
		var ele_display = document.getElementById('info').style.display;
		console.log('diplay ', ele_display);
		if (ele_display == 'block') {
			document.getElementById('info').style.display = 'none';
		} else {
			document.getElementById('info').style.display = 'block';
		}
	}

	function closePopup() {
		document.getElementById('info').style.display = 'none';
	}

	function openMenu() {
		document.getElementsByClassName("wrapper")[0].style.display = 'block';
	}

	function closeMenu() {
		document.getElementsByClassName("wrapper")[0].style.display = 'none';
	}
	//console.log('debug ',document.getElementsByClassName("wrapper")[0].style.display);
	//document.getElementsByClassName("wrapper")[0].style.display = 'none';
</script>

</head>
<body>
	<!--  this is navbar  -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
		<div class="container-fluid">
		<label for="icon"
				class="iconbtn"> <i class="fas fa-bars" id="openbtn"
				style="color: white; size: 20px" onclick="openMenu()"></i>
			</label>
			<a class="navbar-brand" href="#">Cloud Media</a> 
			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
				aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse text-uppercase"
				id="navbarSupportedContent">
				<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
					<li class="nav-item"><a class="nav-link active"
						style="float: right; margin-right: 20px" aria-current="page"
						th:href="@{/}">Home</a></li>
					<div class="profileImage" onclick="handleClickProfileImage()">
						<span th:text="${fchar}"></span>
					</div>
					<!-- <li class="nav-item"><a class="nav-link active"  th:href="@{/logout}">Logout</a></li>  -->
				</ul>
			</div>
		</div>
	</nav>

	<div id="info" class="profileclick" onmouseleave="closePopup()"
		style="display: none">
		<a style="text-decoration: none;" th:href="@{/logout}">Logout <span
			th:text="${user.name}"></span></a>
	</div>

	<!-- Adding sidebar -->
	<div class="wrapper">
		<!--Top menu -->
		<div class="sidebar">
			<!-- close btn -->
			<label for="icon" class="iconbtn"> <i class="fas fa-times"
				style="color: white;" id="closebtn" onclick="closeMenu()"></i> <!--  <i class="fas fa-bars" id="openbtn"></i> -->
			</label>
			<!--profile image & text-->
			<div class="profile">
				<!-- <img src="https://1.bp.blogspot.com/-vhmWFWO2r8U/YLjr2A57toI/AAAAAAAACO4/0GBonlEZPmAiQW4uvkCTm5LvlJVd_-l_wCNcBGAsYHQ/s16000/team-1-2.jpg" alt="profile_picture"> -->
				<div class="profileImage img" onclick="handleClickProfileImage()">
					<span th:text="${fchar}"></span>
				</div>
				<h3 th:text="${user.name}" style="margin-left: 73px;margin-right: 73px;"></h3>
				<!--  <p>Designer</p>  -->
			</div>
			<!--menu item-->
			<ul>
				<li><a th:href="@{/user/dashboard}"> <span class="icon"><i
							class="fas fa-desktop"></i></span> <span class="item">My
							Dashboard</span>
				</a></li>
				<li><a th:href="@{/user/allfiles}"> <span class="icon"><i
							class="fas fa-user-friends"></i></span> <span class="item">All
							Files</span>
				</a></li>

				<li><a th:href="@{/user/myfiles}"> <span class="icon"><i
							class="fas fa-user-shield"></i></span> <span class="item">My
							Files</span>
				</a></li>
				<li><a th:href="@{/user/settings}"> <span class="icon"><i
							class="fas fa-cog"></i></span> <span class="item">Settings</span>
				</a></li>
			</ul>
		</div>

	</div>
	<div th:replace="${content}"></div>

	<script type="text/javascript" th:src="@{/js/dashboard.js}">
	</script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
		crossorigin="anonymous"></script>
</body>
</html>